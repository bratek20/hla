package ${packageName}.api
#if($imports.size() > 0)

#foreach($import in $imports)
import ${import}.api.*
#end#end

#foreach($p in $serializables)
data class ${p.name()}(
    #foreach($field in $p.fields)
    ${field.accessor()}${p.kotlinVarOrValHack()} $field.name: $field.type.serializableName(),
    #end
) {
    #foreach($getter in $p.getters())
    fun ${getter.name}(): ${getter.type.name()} {
        return ${getter.type.deserialize("this.${getter.field}")}
    }

    #end
    #if($p.setters().size() > 0)
    #foreach($setter in $p.setters())
    fun ${setter.name}(${setter.field}: ${setter.type.name()}) {
        this.${setter.field} = ${setter.type.serialize("${setter.field}")}
    }

    #end#end
    companion object {
        fun create(
        #foreach($field in $p.fields)
            $field.name: $field.type.name(),
        #end
        ): ${p.name()} {
            return ${p.name()}(
                #foreach($field in $p.fields)
                ${field.name} = ${field.type.serialize(${field.name})},
                #end
            )
        }
    }
}#if($foreach.hasNext)


#end#end
#if($keys.size() > 0)

#foreach($k in $keys)

val $k.constantName = pl.bratek20.architecture.properties.api.${k.outerKeyType}(
    "${k.keyName}",
    ${k.keyType}::class
)#if($foreach.hasNext)

#end#end#end