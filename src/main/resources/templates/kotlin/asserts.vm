package ${packageName}.fixtures

import org.assertj.core.api.Assertions.assertThat
import ${packageName}.api.*

#foreach($dec in $declarations)
data class ${dec.expectedName}(
    #foreach($field in $dec.fields)
    var $field.name: $field.type? = null,
    #end
)
fun assert${dec.givenName}(given: ${dec.givenName}, expectedInit: ${dec.expectedName}.() -> Unit) {
    val expected = ${dec.expectedName}().apply(expectedInit)

    #foreach($field in $dec.fields)
    if (expected.${field.name} != null) {
        assertThat(given.${field.name}${field.givenSuffix}).isEqualTo(expected.${field.name})
    }
    #end
}
#if($foreach.hasNext)

#end
#end